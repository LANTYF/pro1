(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ce44daf"],{"02a7":function(t,e,s){},1148:function(t,e,s){"use strict";var i=s("a691"),n=s("1d80");t.exports="".repeat||function(t){var e=String(n(this)),s="",a=i(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(s+=e);return s}},1189:function(t,e,s){"use strict";var i=s("459e"),n=s.n(i);n.a},"131f":function(t,e,s){"use strict";var i=s("e56f"),n=s.n(i);n.a},2682:function(t,e,s){},"2fac":function(t,e,s){"use strict";var i=s("9a51"),n=s.n(i);n.a},3856:function(t,e,s){},"408a":function(t,e,s){var i=s("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},"459e":function(t,e,s){},"5cb1":function(t,e,s){},6637:function(t,e,s){},"6ab7":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"detail"}},[s("DetailNavBar",{ref:"navbar",staticClass:"navbar",on:{itemClick:t.itemClick}}),s("Scroll",{ref:"scroll",staticClass:"wrapper",attrs:{click:!0,probeType:3},on:{scroll:t.scroll}},[s("DetailSwiper",{attrs:{topImages:t.topImages}}),s("DetailMessage",{attrs:{goods:t.goods}}),s("DetailShop",{attrs:{shop:t.shop}}),s("DetailInfo",{attrs:{detailInfo:t.detailInfo},on:{imgLoad:t.imgLoad}}),s("DetailParams",{ref:"params",attrs:{paramsInfo:t.paramsInfo}}),s("DetailComments",{ref:"comments",attrs:{comments:t.comments}}),s("GoodsList",{ref:"recommends",attrs:{goods:t.recommends}})],1),s("BackTop",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],nativeOn:{click:function(e){return t.topClick(e)}}}),s("DetailTabBar",{on:{cartClick:t.cartClick}})],1)},n=[],a=(s("a9e3"),s("5d17")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("NavBar",{scopedSlots:t._u([{key:"left",fn:function(){return[i("div",{staticClass:"back",on:{click:t.backClick}},[i("img",{attrs:{src:s("7a74"),alt:""}})])]},proxy:!0},{key:"center",fn:function(){return[i("div",{staticClass:"center"},t._l(t.titles,(function(e,s){return i("span",{key:s,class:{active:s===t.currentIndex},on:{click:function(e){return t.itemClick(s)}}},[t._v(t._s(e))])})),0)]},proxy:!0}])})},r=[],c=s("a7ac"),l={name:"DeatilNavBar",data:function(){return{titles:["商品","参数","评论","推荐"],currentIndex:0}},components:{NavBar:c["a"]},methods:{backClick:function(){this.$router.go(-1)},itemClick:function(t){this.currentIndex=t,this.$emit("itemClick",t)}}},u=l,f=(s("e5e7"),s("2877")),d=Object(f["a"])(u,o,r,!1,null,"82d87b76",null),m=d.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Swiper",{ref:"swiper",staticClass:"detailSwiper"},t._l(t.topImages,(function(t,e){return s("SwiperItem",{key:e,ref:"swiperitem",refInFor:!0},[s("img",{attrs:{src:t,alt:""}})])})),1)},h=[],v=s("dc2c"),_={name:"DetailSwiper",components:{Swiper:v["a"],SwiperItem:v["b"]},props:{topImages:{type:Array,default:function(){return[]}}}},g=_,b=(s("2fac"),Object(f["a"])(g,p,h,!1,null,"3794f67a",null)),C=b.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.goods).length?s("div",{staticClass:"info"},[s("p",{staticClass:"title"},[t._v(t._s(t.goods.title))]),s("div",{staticClass:"price"},[s("span",{staticClass:"now-price"},[t._v(t._s(t.goods.price))]),s("span",{staticClass:"old-price"},[t._v(t._s(t.goods.oldPrice))]),t.goods.discount?s("span",{staticClass:"discount"},[t._v(t._s(t.goods.discount))]):t._e()]),s("div",{staticClass:"column"},[s("span",[t._v(t._s(t.goods.columns[0]))]),s("span",[t._v(t._s(t.goods.columns[1]))]),s("span",[t._v(t._s(t.goods.services[t.goods.services.length-1].name))])]),s("hr")]):t._e()},I=[],k={name:"DetailMessage",props:{goods:{type:Object,default:function(){return{}}}}},y=k,x=(s("bcaf"),Object(f["a"])(y,w,I,!1,null,"1f288575",null)),D=x.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.shop).length?s("div",[s("div",{staticClass:"shop"},[s("img",{attrs:{src:t.shop.logo,alt:""}}),s("span",[t._v(t._s(t.shop.name))])]),s("div",{staticClass:"info"},[s("div",{staticClass:"number"},[s("div",{staticClass:"sell"},[s("div",[t._v(t._s(t._f("sellFixed")(t.shop.sells)))]),s("span",[t._v("总销量")])]),s("div",{staticClass:"goods"},[s("div",[t._v(t._s(t.shop.goods))]),s("span",[t._v("全部宝贝")])])]),s("span",{staticClass:"line"}),s("div",{staticClass:"description"},[s("ul",t._l(t.shop.score,(function(e,i){return s("li",{key:i},[s("span",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"score"},[s("span",{class:{judge1:e.isBetter}},[t._v(t._s(e.score))])]),s("div",{staticClass:"change"},[s("span",{class:{judge2:e.isBetter}},[t._v(t._s(e.isBetter?"高":"低"))])])])})),0)])]),s("div",{staticClass:"wrapper"},[s("a",{staticClass:"text",attrs:{href:t.shop.url}},[t._v("进店逛逛")])]),s("hr")]):t._e()},j=[],O=(s("b680"),{name:"DetailShop",props:{shop:{type:Object,default:function(){return{}}}},filters:{sellFixed:function(t){if(!(t<1e4))return(t/1e4).toFixed(1)+"万"}}}),S=O,E=(s("1189"),Object(f["a"])(S,$,j,!1,null,"7d0d650f",null)),L=E.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.detailInfo).length?s("div",[s("div",{staticClass:"store"},[s("div",{staticClass:"start"}),s("div",{staticClass:"desc"},[t._v(t._s(t.detailInfo.desc))]),s("div",{staticClass:"end"}),s("div",{staticClass:"key"},[t._v(t._s(t.detailInfo.detailImage[0].key))])]),s("div",{staticClass:"imgs"},[s("ul",t._l(t.detailInfo.detailImage[0].list,(function(e,i){return s("li",{key:i},[s("img",{attrs:{src:e,alt:""},on:{load:t.imgLoad}})])})),0)])]):t._e()},B=[],F={name:"DetailInfo",data:function(){return{counter:0,imageLength:0}},props:{detailInfo:{type:Object,default:function(){return{}}}},methods:{imgLoad:function(){++this.counter===this.imageLength&&this.$emit("imgLoad")}},watch:{detailInfo:function(){this.imageLength=this.detailInfo.detailImage[0].list.length}}},P=F,T=(s("e1a7"),Object(f["a"])(P,N,B,!1,null,"6d87bd46",null)),Y=T.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.paramsInfo).length?s("div",{staticClass:"paramsInfo"},[s("table",{staticClass:"table1"},t._l(t.paramsInfo.tables[0],(function(e,i){return s("tr",{key:i},t._l(e,(function(e,i){return s("td",{key:i},[t._v(t._s(e))])})),0)})),0),s("table",{staticClass:"table2"},t._l(t.paramsInfo.set,(function(e,i){return s("tr",{key:"set"+i,staticClass:"set"},[s("td",[t._v(t._s(e.key))]),s("td",[t._v(t._s(e.value))])])})),0)]):t._e()},A=[],G={name:"DetailParams",props:{paramsInfo:{type:Object,default:function(){return{}}}}},J=G,R=(s("b0fe"),Object(f["a"])(J,M,A,!1,null,"993efc12",null)),U=R.exports,V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.comments).length?s("div",{staticClass:"comment"},[t._m(0),s("div",{staticClass:"user"},[s("img",{attrs:{src:t.comments.user.avatar,alt:""}}),s("span",{staticClass:"user-name"},[t._v(t._s(t.comments.user.uname))])]),s("div",{staticClass:"comment-info"},[s("div",[t._v(t._s(t.comments.content))])]),s("div",{staticClass:"comment-other"},[s("span",[t._v(t._s(t._f("showDate")(t.comments.created)))]),s("span",{staticClass:"comment-style"},[t._v(t._s(t.comments.style))])]),s("div",{staticClass:"comment-image"},t._l(t.comments.images,(function(t,e){return s("img",{key:e,attrs:{src:t,alt:""}})})),0)]):t._e()},W=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment-top"},[s("div",[t._v("用户评价")]),s("div",{staticClass:"more"},[t._v("更多")])])}],X=(s("0d03"),s("90b9")),q={name:"DeatilComments",props:{comments:{type:Object,default:function(){return{}}}},filters:{showDate:function(t){var e=new Date(1e3*t);return Object(X["b"])(e,"yyyy-MM-dd")}}},z=q,H=(s("131f"),Object(f["a"])(z,V,W,!1,null,"481fae94",null)),K=H.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tabbar"},[t._m(0),s("div",{staticClass:"tabbar-right"},[s("div",{staticClass:"left",on:{click:t.cartClick}},[t._v("加入购物车")]),s("div",{staticClass:"right"},[t._v("购买")])])])},Z=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tabbar-left"},[s("div",{staticClass:"customer"},[s("i",{staticClass:"icon"}),s("span",[t._v("客服")])]),s("div",{staticClass:"shop"},[s("i",{staticClass:"icon"}),s("span",[t._v("店铺")])]),s("div",{staticClass:"collect"},[s("i",{staticClass:"icon"}),s("span",[t._v("收藏")])])])}],tt={name:"DetailTabBar",methods:{cartClick:function(){this.$emit("cartClick")}}},et=tt,st=(s("d067"),Object(f["a"])(et,Q,Z,!1,null,"134d5ad5",null)),it=st.exports,nt=s("6d71");s("b0c0");function at(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ot=s("1bab");function rt(t){return Object(ot["a"])({url:"/detail",params:{iid:t}})}function ct(){return Object(ot["a"])({url:"/recommend"})}var lt=function t(e,s,i){at(this,t),this.title=e.title,this.columns=s,this.price=e.price,this.oldPrice=e.oldPrice,this.lowNowPrice=e.lowNowPrice,this.desc=e.desc,this.discount=e.discountDesc,this.services=i},ut=function t(e){at(this,t),this.logo=e.shopLogo,this.score=e.score,this.sells=e.cSells,this.goods=e.cGoods,this.url=e.shopUrl,this.name=e.name},ft=function t(e,s){at(this,t),this.set=e.set,this.tables=s.tables},dt=function t(e){at(this,t),e&&(this.content=e[0].content,this.created=e[0].created,this.images=e[0].images,this.style=e[0].style,this.user=e[0].user,this.explain=e[0].explain)},mt=s("eecb"),pt={name:"Detail",data:function(){return{iid:null,topImages:[],goods:{},shop:{},detailInfo:{},paramsInfo:{},comments:{},recommends:[],positionY:[],currentIndex:0}},components:{Scroll:a["a"],DetailNavBar:m,DetailSwiper:C,DetailMessage:D,DetailShop:L,DetailInfo:Y,DetailParams:U,DetailComments:K,DetailTabBar:it,GoodsList:nt["a"]},created:function(){var t=this;this.iid=this.$route.params.iid,rt(this.iid).then((function(e){console.log(e);var s=e.result;t.topImages=s.itemInfo.topImages,t.goods=new lt(s.itemInfo,s.columns,s.shopInfo.services),t.shop=new ut(s.shopInfo),t.detailInfo=s.detailInfo,t.paramsInfo=new ft(s.itemParams.info,s.itemParams.rule),t.comments=new dt(s.rate.list),ct().then((function(e){t.recommends=e.data.list}))}))},mixins:[mt["b"],mt["a"]],destroyed:function(){this.$bus.$off("itemLoad",this.itemListener)},methods:{imgLoad:function(){this.$refs.scroll.refresh(),this.positionY.push(0),this.positionY.push(this.$refs.params.$el.offsetTop),this.positionY.push(this.$refs.comments.$el.offsetTop),this.positionY.push(this.$refs.recommends.$el.offsetTop),this.positionY.push(Number.MAX_VALUE)},itemClick:function(t){this.$refs.scroll.scrollTo(0,-this.positionY[t],200)},scroll:function(t){for(var e=0;e<this.positionY.length-1;e++)this.currentIndex!==e&&-t.y>=this.positionY[e]&&-t.y<this.positionY[e+1]&&(this.currentIndex=e,this.$refs.navbar.currentIndex=this.currentIndex);this.isShow=-t.y>1e3},cartClick:function(){var t=this,e={};e.title=this.goods.title,e.desc=this.goods.desc,e.iid=this.iid,e.image=this.topImages[0],e.price=this.goods.lowNowPrice,this.$store.dispatch("addCart",e).then((function(e){t.$toast.show(e,2e3)}))}}},ht=pt,vt=(s("95f2"),Object(f["a"])(ht,i,n,!1,null,"5152725b",null));e["default"]=vt.exports},"7a74":function(t,e,s){t.exports=s.p+"img/back.26df9036.svg"},"7e7e":function(t,e,s){},"95f2":function(t,e,s){"use strict";var i=s("3856"),n=s.n(i);n.a},"9a51":function(t,e,s){},b0c0:function(t,e,s){var i=s("83ab"),n=s("9bf2").f,a=Function.prototype,o=a.toString,r=/^\s*function ([^ (]*)/,c="name";!i||c in a||n(a,c,{configurable:!0,get:function(){try{return o.call(this).match(r)[1]}catch(t){return""}}})},b0fe:function(t,e,s){"use strict";var i=s("6637"),n=s.n(i);n.a},b680:function(t,e,s){"use strict";var i=s("23e7"),n=s("a691"),a=s("408a"),o=s("1148"),r=s("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,s){return 0===e?s:e%2===1?u(t,e-1,s*t):u(t*t,e/2,s)},f=function(t){var e=0,s=t;while(s>=4096)e+=12,s/=4096;while(s>=2)e+=1,s/=2;return e},d=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){c.call({})}));i({target:"Number",proto:!0,forced:d},{toFixed:function(t){var e,s,i,r,c=a(this),d=n(t),m=[0,0,0,0,0,0],p="",h="0",v=function(t,e){var s=-1,i=e;while(++s<6)i+=t*m[s],m[s]=i%1e7,i=l(i/1e7)},_=function(t){var e=6,s=0;while(--e>=0)s+=m[e],m[e]=l(s/t),s=s%t*1e7},g=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==m[t]){var s=String(m[t]);e=""===e?s:e+o.call("0",7-s.length)+s}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(p="-",c=-c),c>1e-21)if(e=f(c*u(2,69,1))-69,s=e<0?c*u(2,-e,1):c/u(2,e,1),s*=4503599627370496,e=52-e,e>0){v(0,s),i=d;while(i>=7)v(1e7,0),i-=7;v(u(10,i,1),0),i=e-1;while(i>=23)_(1<<23),i-=23;_(1<<i),v(1,1),_(2),h=g()}else v(0,s),v(1<<-e,0),h=g()+o.call("0",d);return d>0?(r=h.length,h=p+(r<=d?"0."+o.call("0",d-r)+h:h.slice(0,r-d)+"."+h.slice(r-d))):h=p+h,h}})},bcaf:function(t,e,s){"use strict";var i=s("5cb1"),n=s.n(i);n.a},d067:function(t,e,s){"use strict";var i=s("2682"),n=s.n(i);n.a},e1a7:function(t,e,s){"use strict";var i=s("02a7"),n=s.n(i);n.a},e56f:function(t,e,s){},e5e7:function(t,e,s){"use strict";var i=s("7e7e"),n=s.n(i);n.a}}]);
//# sourceMappingURL=chunk-0ce44daf.c125a92b.js.map